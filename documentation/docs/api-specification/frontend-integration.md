---
sidebar_position: 4
description: How to connect frontend and backend
---
# Frontend-Backend Integration

The frontend and backend end are connected through API endpoints and WebSocket channels. All data is sent and received as JSON.

## API Endpoints

List of all API endpoints are located in a webpage that's autogenerated by [Redocusuarus](https://www.npmjs.com/package/redocusaurus): 

<a href="/api/"><button>Click here to view the API endpoints</button></a>

## WebSocket Channels

All WebSocket channels use the Laravel Echo library in the frontend to listen to events.

An example connection to a WebSocket:
```js
echo.channel("channel-name").listen("EventName", (data) => {
  console.log(data.jsonObjectName);
});
```

### new-beacon
- **Channel:** new-beacon
- **Event:** BeaconCreated
- **JSON Object:** beacon

Receives a json object called 'beacon' with data on new beacons, one at a time. Event is triggered when a new beacon has been successfully created in the database.

## JSON Overview

A complete list of all acceptable fields for the JSON data. Matches the fields in the database for each table.

The `created_at` and `updated_at` fields are read-only. They are automatically maintained by the Laravel framework.
<!-- TODO: make sure to match the JSON fields with the database diagram! -->
### User JSON

A complete list of all user json fields.

```json
"user": { // JSON data for Users
  "_id": string, // Unique identifier
  "email": string, // Registration
  "username": string, // Public identifier
  "password": string, // 3 guesses
  "created_at": string, // read-only. date and time that data was first created
  "updated_at": string // read-only. date and time that data was last updated
}
```

### Profile JSON

A complete list of all profile json fields.

```json
"profile": { // public information, filters, accountability
  "about_me": string,
  "avatar": string,
  "preferred_games": array,
  "preference_tags": array,
  "created_at": string, // read-only. date and time that data was first created
  "updated_at": string // read-only. date and time that data was last updated
},
```

### Beacon JSON

A complete list of all beacon json fields.

```json
"beacon": {
  "_id": string, // Unique identifier
  "host_id": string, // user_id of the User
  "title": string, // What is going to happen at the event (doubles practice, mario wonder, pokemans vgc, etc.)
  "game_title": string,
  "game_image": string,
  "description": string, // more information about the event
  "start_date_time": string, // start date and time 
  "end_date_time": string, // end date and time 
  "description": string, // Address / Name of place
  "latitude": float, // For the map
  "longitude": float, // For the map
  "num_players": int, // Amount of players wanted
  "created_at": string, // read-only. date and time that data was first created
  "updated_at": string // read-only. date and time that data was last updated
}
```

### Comment JSON

A complete list of all comment json fields.

```json
"comment": { // A place of intelligent discussion and detailed politics
  "_id": string, // Unique identifier
  "beacon_id": string, // What beacon its connected to
  "user_id": string, // user_id of the commenter
  "body": string, // The comment
  "timestamp": string, // Timestamp
  "created_at": string, // read-only. date and time that data was first created
  "updated_at": string // read-only. date and time that data was last updated
}
```